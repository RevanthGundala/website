<!DOCTYPE html>
<html lang="{{ .Site.LanguageCode | default "en" }}" class="no-js">
<head>
  {{- partial "head.html" . -}}
</head>
<body>
  <div class="container">
    {{- partial "header.html" . -}}
    <main>
      {{- block "main" . }}{{- end }}
    </main>
    {{- partial "footer.html" . -}}
  </div>
  <script>
    // Theme toggle
    const html = document.documentElement;
    const toggle = document.getElementById('theme-toggle');
    const stored = localStorage.getItem('theme');
    if (stored) {
      html.setAttribute('data-theme', stored);
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
      html.setAttribute('data-theme', 'dark');
    }
    toggle?.addEventListener('click', () => {
      const current = html.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
      html.setAttribute('data-theme', current);
      localStorage.setItem('theme', current);
    });
  </script>
</body>
</html>
